syntax = "proto3";

package proto;

service Timeseries {
    rpc SavePoint(Point) returns (PointError) {}
    rpc GetTS(Query) returns (Tss) {}
}

message Point {
    string ksid = 1;
    string tsid = 2;
    float value = 3;
    int64 timestamp = 4;
}

message PointError {
    string error = 1;
}

message Query {
    string ksid = 1;
    string tsid = 2;
    int64 start = 3;
    int64 end = 4;
}

message Tss {
    repeated Tsdata tss = 1;
}

message Tsdata {
    float value = 1;
    int64 timestamp = 2;
}